<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <div class="row">
    <h1 class="page-header">Todos</h1>

    <form class="form-inline" role="form" ng-submit="addTodo()">
      <div class="form-group">
        <input type="text" class="form-control" ng-model="todo">
      </div>
    </form>

    <br>


    <table class="table table-bordered table-hover table-condensed">
      <tr style="font-weight: bold">
        <td style="width:35%">todo</td>
        <td style="width:25%">Edit</td>
      </tr>

      <tr ng-repeat="item in todos">
        <td>
          <span editable-text="item.todo" e-name="todo" e-form="rowform" e-required>
            {{ item.todo || 'empty' }}
          </span>
        </td>

        <td style="white-space: nowrap">
          <!-- form -->
          <form editable-form name="rowform" onbeforesave="updateItem($data, item._id)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item">
            <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary">
              save
            </button>
            <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default">
              cancel
            </button>
          </form>
          <div class="buttons" ng-show="!rowform.$visible">
            <button class="btn btn-primary" ng-click="rowform.$show()">edit</button>
            <button class="btn btn-danger" ng-click="deleteThing(item, $index)">del</button>
          </div>  
        </td>

      </tr>
    </table>

  </div>
</div>
